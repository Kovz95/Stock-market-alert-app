# Stock Alert Application - Environment Variables
# Copy this file to .env and fill in your values
# NEVER commit the .env file to version control

# ===========================================
# ENVIRONMENT
# ===========================================
# Set to "production" on the server, "development" locally
ENVIRONMENT=development

# ===========================================
# DATABASE
# ===========================================
# PostgreSQL credentials (used by docker-compose)
POSTGRES_USER=stockalertapp
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=stockalertapp

# PostgreSQL connection string (production)
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://stockalertapp:your_secure_password_here@localhost:5432/stockalertapp

# Connection pool settings (optional)
POSTGRES_POOL_MIN=5
POSTGRES_POOL_MAX=50
POSTGRES_CONN_LIMIT=40

# ===========================================
# REDIS
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=your_redis_password
# REDIS_URL=redis://localhost:6379/0
REDIS_KEY_PREFIX=stockalert:
REDIS_SOCKET_TIMEOUT=5.0

# ===========================================
# API KEYS
# ===========================================
# Financial Modeling Prep API key
FMP_API_KEY=your_fmp_api_key_here

# ===========================================
# DISCORD WEBHOOKS
# ===========================================
# Master switch: set to true/1/yes to send any Discord messages (alerts, logging, scheduler, watchdog); false to disable all (e.g. testing)
DISCORD_SEND_ENABLED=false

# Set to true/1/yes to send logging messages to Discord; false to disable logging only (when DISCORD_SEND_ENABLED is true)
DISCORD_LOGGING_ENABLED=false

# Main alert notifications
WEBHOOK_URL=https://discord.com/api/webhooks/your_webhook_id/your_webhook_token

# Secondary alert webhook (optional)
# WEBHOOK_URL_2=

# Logging/status channel
WEBHOOK_URL_LOGGING=https://discord.com/api/webhooks/your_webhook_id/your_webhook_token

# Secondary logging webhook (optional)
# WEBHOOK_URL_LOGGING_2=

# ===========================================
# SCHEDULER SETTINGS
# ===========================================
# Daily/Weekly Scheduler
SCHEDULER_JOB_TIMEOUT=900
SCHEDULER_HEARTBEAT_INTERVAL=60
SCHEDULER_ALERT_CHECK_WORKERS=5
SCHEDULER_PRICE_UPDATE_WORKERS=5

# Futures Scheduler
FUTURES_SCHEDULER_JOB_TIMEOUT=900
FUTURES_SCHEDULER_HEARTBEAT_INTERVAL=60

# ===========================================
# WATCHDOG SETTINGS
# ===========================================
SCHEDULER_WATCHDOG_INTERVAL=60
SCHEDULER_HEARTBEAT_MAX_AGE=900
WATCHDOG_ENABLE_DISCORD=true
WATCHDOG_DISCORD_WEBHOOK=https://discord.com/api/webhooks/your_webhook_id/your_webhook_token
WATCHDOG_LOG_FILE=scheduler_watchdog.log
